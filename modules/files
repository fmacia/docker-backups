#! /usr/bin/env bash

# Generic files backup
# Arguments:
# - Container name
files () {
  container=$1
  destination=$2

  source=$(docker inspect -f '{{ index .Config.Labels "com.defcomsoftware.backup.files_source"}}' "${container}")
  if [ -z "$source" ]; then
    echo_verbose "-No source path defined. Skipping."
    return
  fi

  docker cp "${container}":"${source}" "${destination}"/"${container}"_"${date}"

  post_backup "${destination}"/"${container}"_"${date}"
}
